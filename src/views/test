    location ~* ^/godiva(?<myResource>/(api|oauth)/.+\.(js|css|png|jpg|jpeg|gif|ico|swf|eot|ttf|woff|woff2))$ {
        alias /data/gini-modules/godiva-store/web/;
        log_not_found off;
        access_log off;
        try_files $myResource $myResource/ 404;
    }

    location ~* ^/godiva(/(?<newPath>(api|oauth).*)) {
        alias /data/gini-modules/godiva-store/web/;
        try_files $uri $uri/ /index.php/godiva/$newPath/?$query_string;
    }

    location ~* ^(?<myScript>.+\.php)/godiva(/(?<newPath>(api|oauth).*))?$ {
        alias /data/gini-modules/godiva-store/web/;
        fastcgi_split_path_info ^(.+\.php)/[a-zA-Z_\-]+(/.+)$;
        set $mySN /godiva$myScript;

        fastcgi_pass 172.17.42.1:9000;
        fastcgi_index index.php;

        #fastcgi_pass_request_headers on;

        include fastcgi_params;

        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        fastcgi_param SCRIPT_NAME $mySN;
        fastcgi_param PATH_INFO $fastcgi_path_info;

        set $access $http_origin;
        if ($request_method = 'OPTIONS') {
            add_header Access-Control-Allow-Origin $access;
            add_header Access-Control-Allow-Credentials true;
            add_header Access-Control-Allow-Headers 'X-Gini-Session,X-Gini-Token,Content-Type,X-Gini-Info';
            add_header Access-Control-Allow-Methods 'GET,POST,PUT,DELETE,PATCH,OPTIONS';
            return 200;
        }

        if ($request_method ~* '(GET|POST|PUT|DELETE|PATCH)') {
            add_header Access-Control-Allow-Origin $access always;
            add_header Access-Control-Allow-Credentials true always;
        }
    }